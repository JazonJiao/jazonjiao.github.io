D5P387-210409
<h2>《Recsys Research Project (9)》</h2>
1`4.6和S2M的sync会议上，印方工程团队的Deepak介绍了AB测试、推荐上线的工程细节。目前他们打算每7天重跑一遍709搞的推荐算法（FM），然后每天更新一次（如果用户登录），去掉已经读过的文章。这意味着用户的推荐列表不会实时更新，而且如果每次给每个用户都生成150篇文章的列表，也挺浪费的。还有很大提升空间啊…
1`（4.20注：Jure在CS 246的Recsys讲座上讲到他在Pinterest的经历，一开始他们每晚计算好下一天的推荐列表，后来他帮助加入实时推荐之后，engagement提升了30%。）
1`另外，排名是原封不动按pred util排，还是可以稍微打乱点顺序？已经开始的文章会出现在推荐列表里吗？已经推荐过的文章如何重新推荐，换句话说，排在第一的文章被跳过以后，重新推荐放在第几？…确实，一个推荐系统生成排名之后还有很多细节，这些细节可能在多数业界的recsys论文里都是略去的，王喆的课里也没提到，需要我们自己做决定。
1`我们lab搞Recengine这个工程已经至少一年半了，中途team经过几次变动，这还是第一次上线新的推荐模型，足见进度之龟速…没过几周，印度疫情失控，印方团队不少人都请了假，而且大家担心社会形势的变化会影响测试结果，就差点中断了AB测试。
1`4.7，经过一周的构思，我写了一篇1200多词的长文；晚上第一次和710一对一，讨论了ConFilt。710吐槽他做S2M proj已经有些不开心了，我倒从来没有想过我做这个项目开不开心；另外，709从来没有和我吐槽过project本身难做或者没进展，我和709开会的感觉就是我们一直在取得各种进展。
1`4月初，我开始给ALP 301这节课写推荐系统的教程，主要就是在去年的4个教程里加入今年的数据，当然还需要再做一些改进，然后要写一个全新的教程。看着去年Eray写的教程，我发现我之前做的一些东西，其实更早以前就被做过了（这种情况出现很多次了…）另外R里也有推荐系统的现成包可以使用。
2`4月中旬，我能明显感觉709对我催得越来越紧，有时他周日给我打电话，后来每天在我理应开始工作的时间之前发消息问我进度，这让我十分不爽。
2`4.20晚上，709和我说最新的教程5今晚就要我写好，我说做不完，然后他跟我发了一大堆话，说我最近给自己设的标准太低什么的，想和Susan重新讨论对我的期待值。
2`看了这些，我的不爽反而消失了，反驳了他对我的批评。我觉得他的批评是不合理的，真要闹到Susan那儿，我有充分的理由证明我已经足够努力了，是709低估了我把这些代码重新跑起来、改进这些教程，要花多少精力（你行你来整啊）。当然，如何处理得当，对我的情商还是个挺大的考验的。
2`他对我的批评并非空穴来风，最近我确实经常“拖ddl”。追根溯源，我刚开始入手写教程的时候，709给我设了几个ddl，当时是4.1，他让我3个工作日内（4.5）完成教程1，4.7完成教程2。这些ddl是不切实际的，首先我对R不熟，更何况当时我还在做另一个任务（参见前文），我就到4月中旬才完成，他也没说啥。这给了我一种“这些ddl就是走个形式”的危险错觉。
2`写了这么多，其实没多大事，很快709也向我表达了歉意，估计他就是一时脾气不好啦，可能最近压力比较大？4.23和Susan开会的时候我才了解了他这么着急的原因，因为理论上他是负责教程的，然后把任务分给了我。
1`之后就进入了审核、修改环节。教程里有的部分我写完后我和709都看得懂，但审核人没有context是不能理解的，所以需要调整行文结构、加更多注释和解释，以保证学生能更轻松地理解教程内容。这需要综合多方的反馈意见，众口难调，十分繁琐。当然这还没完，后续还零星有一些关于教程的问题进来。
1`4.20晚上搞出来的新教程是关于冷启动策略的，探索了D5P379-210227提到的“从什么时候开始个性化”的问题，得出的结论是对于S2M数据，当item积累了20 ~ 40个互动之后，协同过滤的表现开始超过内容过滤。
1`之后打算用Python重做一下实验，但我们一直纠结于precision@k这个metric靠不靠谱。主要的问题是它把所有缺失的数据都当做0，所以709发明了另一种计算方法，只在可观察的数据上计算精确度，但这样算还是会有一些问题。
1`4.29和709讨论，他说“我们不可能是地球上第一个想到这件事的人，肯定有人意识到了precision@k的问题”。当时我觉得有些激动，觉得这是个很有意思的课题，我又能进入到纯粹地探索未知的状态了，而更赞的是有个大神可以带我一起探索。
1`不过我周末搜了一下，原来Recsys 13’其实已有人研究过这个了：用可观察数据vs缺失数据vs所有数据计算精确度，得到的结果和对应的理解会很不一样。另外缺失数据上RMSE是未定义的。
（上篇：D5P381，下篇：D5P392）
