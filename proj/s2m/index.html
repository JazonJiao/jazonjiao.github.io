
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- for mobile devices -->
  <title>Jazon Jiao · Recsys Research</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
        crossorigin="anonymous" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
          crossorigin="anonymous"></script>
  <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"></script>

  <link href="../../style/index.css" rel="stylesheet">
  <link href="../../style/en-blog.css" rel="stylesheet">
  <link rel="icon" href="../../file/icon/brainy.ico" type="image/x-icon"/>
</head>

<body class="cold-theme">

<!-- Navigation -->
<nav class="cold-theme navbar sticky-top navbar-expand-sm navbar-light" aria-label="Third navbar example">
  <div class="container-fluid mt-1 mx-2">
    <a href="../../">
      <img src="../../file/icon/jazon-logo.png" alt="logo" id="jazon-logo"/>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample03"
            aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExample03">
      <ul class="navbar-nav ms-auto fs-5">
        <li class="nav-item"> <a class="nav-link" href="../../about">About</a> </li>
        <li class="nav-item"> <a class="nav-link" href="../../blog">Blog</a> </li>
        <li class="nav-item"> <a class="nav-link" href="../../proj">Projects</a> </li>
        <li class="nav-item"> <a class="nav-link" href="../../diary">Diary</a> </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <img src="../../file/bg/gsb.jpg" class="img-fluid bg_" alt="s2m">
</div>

<div class="container my-4 px-4 col-12 col-sm-12 col-md-8 col-lg-7 mx-auto">
  <h1 style="margin-top: 99px;">Recsys Research</h1>
  <ul class="my-5">
    <li><span class="meta_">Date: </span>2020.12.9 — 2021.6.9 (6 months)</li>
    <li><span class="meta_">Location: </span>Stanford, CA</li>
    <li><span class="meta_">Lab: </span>Stanford Graduate School of Business, Social Impact Lab</li>
    <li><span class="meta_">Project: </span>Recommendation System for Freadom, an English-learning app</li>
    <li><span class="meta_">Mentors: </span>
      <a href="https://en.wikipedia.org/wiki/Susan_Athey">Susan Athey</a> (prof), Ayush Kanodia (PhD)
    </li>
    <li><span class="meta_">Tools: </span><code style="color: #d63384">PyTorch, sklearn</code></li>
  </ul>

  <div class="mb-5" id="intro">
    <h3 class="py-1 border-bottom">Introduction<a href="#intro" class="anchr">#</a></h3>
    <p class="mt-3">
      A <span style="color: rebeccapurple">recommendation system (<strong>recsys</strong>)</span>
      serves one purpose: help users discover the items they want.
      For example, finding 20 videos that a user may be interested in,
      out of billions of videos on YouTube.
    </p><p>
      The recsys research community is closely tied to that of ads, search ranking,
      information retrieval, and other fields in AI.
    </p><p>
      There are two basic methods for recsys. In simple words:
    </p>
    <ul>
      <li class="mb-2">
        <span style="color: #c97909"><strong>Content Filtering</strong></span>
        tries to match up users with items, based on user and item features such as
        <em style="color: #591909">user age</em>,
        <em style="color: #591909">user language</em>,
        <em style="color: #190959">item category</em>,
        <em style="color: #190959">item's author</em>, etc.
      </li>
      <li>
        <span style="color: #199999"><strong>Collaborative Filtering</strong></span>
        looks at other users who have liked similar items,
        and recommends based on what else they have liked.
      </li>
    </ul>
    <br/>
    <p class="subtitle">
      <img src="cf-ctf.jpeg" alt="Recsys"><br/><br/>
      image source: Data Flair
    </p>
  </div>

  <div class="mb-5" id="task">
    <h3 class="py-1 border-bottom">Task<a href="#task" class="anchr">#</a></h3>
    <p class="mt-3">
      I needed to implement a recommendation system for an app named
      <a href="https://www.getfreadom.com/">Freadom</a>,
      and design experiments to test its performance.
    </p><p>
      Freadom is an English-learning app based in India.
      It provides thousands of "stories" on its platform;
      children read stories on the app, and their English skills get improved.
    </p>
    <br/><p class="subtitle">
      <img src="freadom.jpg" alt="Freadom" style="width: 77%"><br/><br/>
      Freadom app logo and iOS screenshot<br/><br/>
    </p><p>
      Specifically, I needed to design algorithms that recommend stories to users,
      for 2 different sections:
    </p>
    <ul>
      <li class="mb-2"><strong style="color: #197919">Today For You</strong>
        — generates 5 recommended stories to the user, shown on the home page;
        the list is updated each day</li>
      <li><strong style="color: #990909">Similar Stories</strong>
        — after a user finishes reading a story, recommends a new story based on
        the one just finished</li>
    </ul>
  </div>

  <div class="mb-5" id="action">
    <h3 class="py-1 border-bottom">Action<a href="#action" class="anchr">#</a></h3>
    <p class="mt-3">
      For <span style="color: #197919">"Today For You"</span>, I implemented or tried
      various flavors of
      <a href="https://en.wikipedia.org/wiki/Matrix_factorization_(recommender_systems)">
        Matrix Factorization</a>.
      I tuned the algorithm with different hyperparameters, and tried applying filters to the
      training data to see if this can facilitate training.
    </p><p>
      For <span style="color: #990909">"Similar Stories"</span>, I used <code>word2vec</code>
      to construct an embedding for each story, based on their text features
      (category, description, contents). I then used cosine similarity
      to find a nearest story as recommendation.
    </p>
  </div>

  <div class="mb-5" id="result">
    <h3 class="py-1 border-bottom">Result<a href="#result" class="anchr">#</a></h3>
    <p class="mt-3">
      I ran dozens of experiments to calculate the error of my Matrix Factorization
      algorithm under various conditions. I achieved best (lowest) error of <strong>0.342</strong>
      on the internal test set, against the baseline of <strong>0.372</strong>.
    </p><p><em>
      <strong>Technical details</strong>: For each user-item pair,
      a recommendation algorithm predicts the <span style="color: rebeccapurple">utility</span>
      score that the user gets when interacting with this item.
      For example, if a user clicks on a given story, the utility score for this user-item pair is 1,
      otherwise it's 0. The error is then calculated by
      taking the RMSE (Root Mean Squared Error) between the predicted utilities and the true values,
      for some pairs of user-item interactions.
    </em></p>
  </div>

  <div class="mb-5" id="more">
    <h3 class="py-1 border-bottom">
      Other research topics&nbsp;
      <a class="tl-view" style="color: #091992;" data-bs-toggle="collapse" href="#e1" aria-expanded="false">
        View / Hide
      </a><a href="#more" class="anchr">#</a>
    </h3>
    <p class="mt-3"><em>
      Click "<a data-bs-toggle="collapse" href="#e1" aria-expanded="true">View</a>"
      to read about other topics I explored in the research assistantship:
      (1) <strong>evaluation metrics</strong>;
      (2) <strong>cold start problem</strong>;
      (3) <strong>data visualization</strong>.
    </em></p>
    <div class="collapse" id="e1">
      <h4 class="mt-4 py-1 border-bottom">1. Evaluation Metrics</h4>
      <div style="margin-bottom: 39px;">
        <p>
          As mentioned <a href="#result">above</a>, the performance of our algorithm is
          calculated by taking RMSE between the predicted and actual utilities.
          RMSE has a lot of limitations, so I explored alternate performance metrics.
        </p>
        <p>
          Instead of predicting utilities on a continuous scale, I could frame the problem
          as a classification problem, classifying each user-item pair as
          "user likes it" or "user does not like it". Using binary classification opens up
          <a href="https://en.wikipedia.org/wiki/Evaluation_of_binary_classifiers">new metrics</a>
          such as <strong>precison/recall, cross-entropy, AUC,</strong> and so on.
          I discussed the pros and cons of using prediction VS classification.
        </p>
        <p>
          Both RMSE and classification-based metrics do not directly measure the quality
          of our ranking. This is a problem, since a recommendation system
          is essentially a ranking algorithm, where for each user, we want to rank all items
          in order of his/her preference. To this end, I and my mentor proposed using
          <strong>
            <a href="https://en.wikipedia.org/wiki/Evaluation_measures_(information_retrieval)#Precision_at_k">
              precision@k</a>,
          </strong>inspired by relevant research in ads and search, and we
          defined how to calculate it in the context of our project.
        </p>
        <p>
          In the end, no metric can truly capture the quality of a recsys.
          There are subjective things like "<strong>serendipity</strong>" (recommending outside of
          categories that the user has liked) that is important in a real-world environment.
        </p>
        <p>
          Finally, note that I did all my experiments <strong>offline</strong>, i.e.
          without interacting with actual users; online A/B testing is outside the scope of
          my research project.
        </p>
      </div>
      <h4 class="mt-4 py-1 border-bottom">2. Cold Start Problem</h4>
      <div style="margin-bottom: 39px;">
        <p>
          When using <span style="color: #199999">Collaborative Filtering</span>,
          the success of a recsys depends on the historical data of how users interacted with items.
          For new users, there is no historical data yet—how do we recommend items to those new users?
          This is the so-called <strong>cold-start problem</strong>.
        </p>
        <p>
          One way to solve this is to use <span style="color: #c97909;">Content Filtering</span>
          for new users, since (some versions of) <span style="color: #c97909">content filtering</span>
          does not need past interaction data.
          But at what point—i.e. after obtaining how much data for this user—do we
          switch from <span style="color: #c97909">content filtering</span>
          to <span style="color: #199999">collaborative filtering</span> for recommendation?
        </p>
        <p>
          To answer this question, I and my mentor designed experiments to test the
          performance of these two algorithms when given different amounts of data.
          To my knowledge, there hasn't been previous academic research on this topic
          using our method.
        </p>
        <p>
          However, in the end, I didn't find the experiments convincing enough,
          partly because the output format of the two algorithms were fundamentally different,
          and it was awkward to compare their performance against each other.
          In particular, <span style="color: #c97909">content filtering</span> is not
          designed to produce utility scores as <span style="color: #199999">collaborative filtering</span>
          does.
        </p>
      </div>
      <h4 class="mt-4 py-1 border-bottom">3. Data Visualization</h4>
      <div style="margin-bottom: 39px;">
        <p>
          The Freadom App consists of different sections such as
          "<span style="color: #197919">Today For You</span>",
          "<span style="color: #777719">Trending Now</span>", and so on.
          I used <code>matplotlib</code> to visualize how users' favorite sections changed over time,
          starting from when they first signed up for the app:
        </p>
        <p class="subtitle" style="width: 49%;">
          <img src="path-analysis.png" alt="Path Analysis"><br/><br/>
          Evolution of users' favorite sections
        </p>
      </div>
    </div>
  </div>

  <div class="mb-5" id="story">
    <h3 class="py-1 border-bottom">
      The Story&nbsp;
      <a class="tl-view" style="color: #091992;" data-bs-toggle="collapse" href="#e2" aria-expanded="false">
        View / Hide
      </a><a href="#story" class="anchr">#</a>
    </h3>
    <p style="font-style: italic; font-size: 92%">
      Click "<a data-bs-toggle="collapse" href="#e2" aria-expanded="false">View</a>"
      to read about my feelings about this internship, as well as what I learned from it.
    </p>
    <div class="collapse" id="e2"><em style="color: #777;">
    <p class="mt-3">
      Relevant Diary (in Chinese):<br/>
      Interview — <a href="../../d5/p/354">D5P354</a>;<br/>
      Internship — <a href="../../d5/p/361">D5P361</a>,
      <a href="../../d5/p/363">D5P363</a>,
      <a href="../../d5/p/367">D5P367</a>,
      <a href="../../d5/p/369">D5P369</a>,
      <a href="../../d5/p/372">D5P372</a>,
      <a href="../../d5/p/373">D5P373</a>,
      <a href="../../d5/p/379">D5P379</a>,
      <a href="../../d5/p/381">D5P381</a>,
      <a href="../../d5/p/387">D5P387</a>,
      <a href="../../d5/p/392">D5P392</a>
    </p>
    </em></div>
  </div>

  <div style="text-align: center;">
    <a class="mt-4 tl-view" href="../"><span class="bck_">Back to Projects</span></a>
  </div>

  <footer class="pt-3 mt-4 text-muted border-top">
  &copy; 2021 Jazon Jiao<br/>
  </footer>

</div>
</body>
